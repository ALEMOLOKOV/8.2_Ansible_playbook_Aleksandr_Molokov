## Развертывание Clickhouse и установка Vector  

# Что делает playbook

Плейбук разворачивает ClickHouse

Устанавливает Vector на указанном хосте


# 1. Требования к ОС

Запуск плейбка производился с виртуальной машины с ОС Ubunto 20.04

Хост на котором происходило развертывание - виртуальная машина созданная на Yandex Cloud, ОС - Centoc 7

# 2. Что необходимо для выполнения плейбука

Для запуска плейбука на ключевой машине необходимо установить Ansible версии 2.10 или выше

Подготовить хост на который будет установлены ClickHouse и Vector 

В моем примере ClickHouse и Vector устанавливаются на один и тот же хост

# В файле /inventory/prod.yml необходимо 

- указать IP адрес хоста для разворачивает ClickHouse и устанавливает Vector

  В моем примере это IP адрес виртуальной машины, созданной на Yandex Cloud, ОС - Centoc 7
  
- указать имя пользователя, такое же как и при создании виртуальной машины на Yandex Cloud

  В моем примере этот параметр amolokov

  В моем примере подключение происходит по SSH, для подключения к хосту необходимо сформировать ключевую пару
  
  
# В файле group_vars\clickhouse

- можно отредактировать версии ClickHouse и Vector, которые будут установлены на указанный хост

# 3 Запуск playbook

- производиться из директории ~/playbook

- команда для запуска ansible-playbook - i inventory/prod.yml site.yml
